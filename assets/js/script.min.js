$(document).ready(function(){var e=!0,i=null;$(this).on("mousewheel DOMMouseScroll",function(s){if(!$(".outer-nav").hasClass("is-vis")){s.preventDefault();var t=s.originalEvent.wheelDelta?-s.originalEvent.wheelDelta:20*s.originalEvent.detail;t>50&&e?(e=!1,clearTimeout(i),i=setTimeout(function(){e=!0},800),r(1)):t<-50&&e&&(e=!1,clearTimeout(i),i=setTimeout(function(){e=!0},800),r(-1))}}),$(".side-nav li, .outer-nav li").click(function(){if(!$(this).hasClass("is-active")){var e=$(this),i=e.parent().find(".is-active"),s=e.parent().children().index(i),t=e.parent().children().index(e),r=$(this).parent().children().length-1;l(t),a(s,t,r)}}),$(".cta").click(function(){var e=$(".side-nav").find(".is-active"),i=$(".side-nav").children().index(e),s=$(".side-nav").children().length-1,t=s;l(s),a(i,t,s)});var s=document.getElementById("viewport"),t=new Hammer(s);function r(e){var i=$(".side-nav").find(".is-active"),s=$(".side-nav").children().index(i),t=$(".side-nav").children().length-1,r=0;"swipeup"===e.type||40===e.keyCode||e>0?s!==t?(l(r=s+1),a(s,r,t)):(l(r),a(s,r,t)):("swipedown"===e.type||38===e.keyCode||e<0)&&(0!==s?(l(r=s-1),a(s,r,t)):(l(r=t),a(s,r,t)))}function l(e){$(".side-nav, .outer-nav").children().removeClass("is-active"),$(".side-nav").children().eq(e).addClass("is-active"),$(".outer-nav").children().eq(e).addClass("is-active")}function a(e,i,s){$(".main-content").children().removeClass("section--is-active"),$(".main-content").children().eq(i).addClass("section--is-active"),$(".main-content .section").children().removeClass("section--next section--prev"),e===s&&0===i||0===e&&i===s?$(".main-content .section").children().removeClass("section--next section--prev"):e<i?$(".main-content").children().eq(e).children().addClass("section--next"):$(".main-content").children().eq(e).children().addClass("section--prev"),0!==i&&i!==s?$(".header--cta").addClass("is-active"):$(".header--cta").removeClass("is-active")}t.get("swipe").set({direction:Hammer.DIRECTION_VERTICAL}),t.on("swipeup swipedown",function(e){r(e)}),$(document).keyup(function(e){$(".outer-nav").hasClass("is-vis")||(e.preventDefault(),r(e))}),$(".header--nav-toggle").click(function(){$(".perspective").addClass("perspective--modalview"),setTimeout(function(){$(".perspective").addClass("effect-rotate-left--animate")},25),$(".outer-nav, .outer-nav li, .outer-nav--return").addClass("is-vis")}),$(".outer-nav--return, .outer-nav li").click(function(){$(".perspective").removeClass("effect-rotate-left--animate"),setTimeout(function(){$(".perspective").removeClass("perspective--modalview")},400),$(".outer-nav, .outer-nav li, .outer-nav--return").removeClass("is-vis")}),$(".slider--prev, .slider--next").click(function(){var e=$(this),i=$(".slider").find(".slider--item-left"),s=$(".slider").children().index(i),t=$(".slider").find(".slider--item-center"),r=$(".slider").children().index(t),l=$(".slider").find(".slider--item-right"),a=$(".slider").children().index(l),d=$(".slider").children().length,n=$(".slider--item-left"),o=$(".slider--item-center"),c=$(".slider--item-right"),m=$(".slider--item");$(".slider").animate({opacity:0},400),setTimeout(function(){e.hasClass("slider--next")?s<d-1&&r<d-1&&a<d-1?(n.removeClass("slider--item-left").next().addClass("slider--item-left"),o.removeClass("slider--item-center").next().addClass("slider--item-center"),c.removeClass("slider--item-right").next().addClass("slider--item-right")):s===d-1?(m.removeClass("slider--item-left").first().addClass("slider--item-left"),o.removeClass("slider--item-center").next().addClass("slider--item-center"),c.removeClass("slider--item-right").next().addClass("slider--item-right")):r===d-1?(n.removeClass("slider--item-left").next().addClass("slider--item-left"),m.removeClass("slider--item-center").first().addClass("slider--item-center"),c.removeClass("slider--item-right").next().addClass("slider--item-right")):(n.removeClass("slider--item-left").next().addClass("slider--item-left"),o.removeClass("slider--item-center").next().addClass("slider--item-center"),m.removeClass("slider--item-right").first().addClass("slider--item-right")):0!==s&&0!==r&&0!==a?(n.removeClass("slider--item-left").prev().addClass("slider--item-left"),o.removeClass("slider--item-center").prev().addClass("slider--item-center"),c.removeClass("slider--item-right").prev().addClass("slider--item-right")):0===s?(m.removeClass("slider--item-left").last().addClass("slider--item-left"),o.removeClass("slider--item-center").prev().addClass("slider--item-center"),c.removeClass("slider--item-right").prev().addClass("slider--item-right")):0===r?(n.removeClass("slider--item-left").prev().addClass("slider--item-left"),m.removeClass("slider--item-center").last().addClass("slider--item-center"),c.removeClass("slider--item-right").prev().addClass("slider--item-right")):(n.removeClass("slider--item-left").prev().addClass("slider--item-left"),o.removeClass("slider--item-center").prev().addClass("slider--item-center"),m.removeClass("slider--item-right").last().addClass("slider--item-right"))},400),$(".slider").animate({opacity:1},400)}),$(".work-request--information input").focusout(function(){""===$(this).val()?$(this).removeClass("has-value"):$(this).addClass("has-value"),window.scrollTo(0,0)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsImNhblNjcm9sbCIsInNjcm9sbENvbnRyb2xsZXIiLCJ0aGlzIiwib24iLCJlIiwiaGFzQ2xhc3MiLCJwcmV2ZW50RGVmYXVsdCIsImRlbHRhIiwib3JpZ2luYWxFdmVudCIsIndoZWVsRGVsdGEiLCJkZXRhaWwiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwidXBkYXRlSGVscGVyIiwiY2xpY2siLCIkdGhpcyIsImN1ckFjdGl2ZSIsInBhcmVudCIsImZpbmQiLCJjdXJQb3MiLCJjaGlsZHJlbiIsImluZGV4IiwibmV4dFBvcyIsImxhc3RJdGVtIiwibGVuZ3RoIiwidXBkYXRlTmF2cyIsInVwZGF0ZUNvbnRlbnQiLCJ0YXJnZXRFbGVtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJtYyIsIkhhbW1lciIsInBhcmFtIiwidHlwZSIsImtleUNvZGUiLCJyZW1vdmVDbGFzcyIsImVxIiwiYWRkQ2xhc3MiLCJnZXQiLCJzZXQiLCJkaXJlY3Rpb24iLCJESVJFQ1RJT05fVkVSVElDQUwiLCJrZXl1cCIsImN1ckxlZnQiLCJjdXJMZWZ0UG9zIiwiY3VyQ2VudGVyIiwiY3VyQ2VudGVyUG9zIiwiY3VyUmlnaHQiLCJjdXJSaWdodFBvcyIsInRvdGFsV29ya3MiLCIkbGVmdCIsIiRjZW50ZXIiLCIkcmlnaHQiLCIkaXRlbSIsImFuaW1hdGUiLCJvcGFjaXR5IiwibmV4dCIsImZpcnN0IiwicHJldiIsImxhc3QiLCJmb2N1c291dCIsInZhbCIsIndpbmRvdyIsInNjcm9sbFRvIl0sIm1hcHBpbmdzIjoiQUFFQUEsRUFBQUMsVUFBQUMsTUFBQSxXQUdBLElBQUFDLEdBQUEsRUFDQUMsRUFBQSxLQUNBSixFQUFBSyxNQUFBQyxHQUFBLDRCQUFBLFNBQUFDLEdBRUEsSUFBQVAsRUFBQSxjQUFBUSxTQUFBLFVBQUEsQ0FFQUQsRUFBQUUsaUJBRUEsSUFBQUMsRUFBQUgsRUFBQUksY0FBQSxZ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LFFBQUEsR0FBQSxPQVFBekQsRUFBQSxvQ0FBQThELFNBQUEsV0FJQSxLQUZBOUQsRUFBQUssTUFBQTBELE1BR0EvRCxFQUFBSyxNQUFBZ0MsWUFBQSxhQUdBckMsRUFBQUssTUFBQWtDLFNBQUEsYUFJQXlCLE9BQUFDLFNBQUEsRUFBQSIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQGNvZGVraXQtcHJlcGVuZCBcIi92ZW5kb3IvaGFtbWVyLTIuMC44LmpzXCI7XG5cbiQoIGRvY3VtZW50ICkucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgLy8gRE9NTW91c2VTY3JvbGwgaW5jbHVkZWQgZm9yIGZpcmVmb3ggc3VwcG9ydFxuICB2YXIgY2FuU2Nyb2xsID0gdHJ1ZSxcbiAgICAgIHNjcm9sbENvbnRyb2xsZXIgPSBudWxsO1xuICAkKHRoaXMpLm9uKCdtb3VzZXdoZWVsIERPTU1vdXNlU2Nyb2xsJywgZnVuY3Rpb24oZSl7XG5cbiAgICBpZiAoISgkKCcub3V0ZXItbmF2JykuaGFzQ2xhc3MoJ2lzLXZpcycpKSkge1xuXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIHZhciBkZWx0YSA9IChlLm9yaWdpbmFsRXZlbnQud2hlZWxEZWx0YSkgPyAtZS5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGEgOiBlLm9yaWdpbmFsRXZlbnQuZGV0YWlsICogMjA7XG5cbiAgICAgIGlmIChkZWx0YSA+IDUwICYmIGNhblNjcm9sbCkge1xuICAgICAgICBjYW5TY3JvbGwgPSBmYWxzZTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNjcm9sbENvbnRyb2xsZXIpO1xuICAgICAgICBzY3JvbGxDb250cm9sbGVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgIGNhblNjcm9sbCA9IHRydWU7XG4gICAgICAgIH0sIDgwMCk7XG4gICAgICAgIHVwZGF0ZUhlbHBlcigxKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGRlbHRhIDwgLTUwICYmIGNhblNjcm9sbCkge1xuICAgICAgICBjYW5TY3JvbGwgPSBmYWxzZTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNjcm9sbENvbnRyb2xsZXIpO1xuICAgICAgICBzY3JvbGxDb250cm9sbGVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgIGNhblNjcm9sbCA9IHRydWU7XG4gICAgICAgIH0sIDgwMCk7XG4gICAgICAgIHVwZGF0ZUhlbHBlcigtMSk7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgfSk7XG5cbiAgJCgnLnNpZGUtbmF2IGxpLCAub3V0ZXItbmF2IGxpJykuY2xpY2soZnVuY3Rpb24oKXtcblxuICAgIGlmICghKCQodGhpcykuaGFzQ2xhc3MoJ2lzLWFjdGl2ZScpKSkge1xuXG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLFxuICAgICAgICAgIGN1ckFjdGl2ZSA9ICR0aGlzLnBhcmVudCgpLmZpbmQoJy5pcy1hY3RpdmUnKSxcbiAgICAgICAgICBjdXJQb3MgPSAkdGhpcy5wYXJlbnQoKS5jaGlsZHJlbigpLmluZGV4KGN1ckFjdGl2ZSksXG4gICAgICAgICAgbmV4dFBvcyA9ICR0aGlzLnBhcmVudCgpLmNoaWxkcmVuKCkuaW5kZXgoJHRoaXMpLFxuICAgICAgICAgIGxhc3RJdGVtID0gJCh0aGlzKS5wYXJlbnQoKS5jaGlsZHJlbigpLmxlbmd0aCAtIDE7XG5cbiAgICAgIHVwZGF0ZU5hdnMobmV4dFBvcyk7XG4gICAgICB1cGRhdGVDb250ZW50KGN1clBvcywgbmV4dFBvcywgbGFzdEl0ZW0pO1xuXG4gICAgfVxuXG4gIH0pO1xuXG4gICQoJy5jdGEnKS5jbGljayhmdW5jdGlvbigpe1xuXG4gICAgdmFyIGN1ckFjdGl2ZSA9ICQoJy5zaWRlLW5hdicpLmZpbmQoJy5pcy1hY3RpdmUnKSxcbiAgICAgICAgY3VyUG9zID0gJCgnLnNpZGUtbmF2JykuY2hpbGRyZW4oKS5pbmRleChjdXJBY3RpdmUpLFxuICAgICAgICBsYXN0SXRlbSA9ICQoJy5zaWRlLW5hdicpLmNoaWxkcmVuKCkubGVuZ3RoIC0gMSxcbiAgICAgICAgbmV4dFBvcyA9IGxhc3RJdGVtO1xuXG4gICAgdXBkYXRlTmF2cyhsYXN0SXRlbSk7XG4gICAgdXBkYXRlQ29udGVudChjdXJQb3MsIG5leHRQb3MsIGxhc3RJdGVtKTtcblxuICB9KTtcblxuICAvLyBzd2lwZSBzdXBwb3J0IGZvciB0b3VjaCBkZXZpY2VzXG4gIHZhciB0YXJnZXRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZXdwb3J0JyksXG4gICAgICBtYyA9IG5ldyBIYW1tZXIodGFyZ2V0RWxlbWVudCk7XG4gIG1jLmdldCgnc3dpcGUnKS5zZXQoeyBkaXJlY3Rpb246IEhhbW1lci5ESVJFQ1RJT05fVkVSVElDQUwgfSk7XG4gIG1jLm9uKCdzd2lwZXVwIHN3aXBlZG93bicsIGZ1bmN0aW9uKGUpIHtcblxuICAgIHVwZGF0ZUhlbHBlcihlKTtcblxuICB9KTtcblxuICAkKGRvY3VtZW50KS5rZXl1cChmdW5jdGlvbihlKXtcblxuICAgIGlmICghKCQoJy5vdXRlci1uYXYnKS5oYXNDbGFzcygnaXMtdmlzJykpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB1cGRhdGVIZWxwZXIoZSk7XG4gICAgfVxuXG4gIH0pO1xuXG4gIC8vIGRldGVybWluZSBzY3JvbGwsIHN3aXBlLCBhbmQgYXJyb3cga2V5IGRpcmVjdGlvblxuICBmdW5jdGlvbiB1cGRhdGVIZWxwZXIocGFyYW0pIHtcblxuICAgIHZhciBjdXJBY3RpdmUgPSAkKCcuc2lkZS1uYXYnKS5maW5kKCcuaXMtYWN0aXZlJyksXG4gICAgICAgIGN1clBvcyA9ICQoJy5zaWRlLW5hdicpLmNoaWxkcmVuKCkuaW5kZXgoY3VyQWN0aXZlKSxcbiAgICAgICAgbGFzdEl0ZW0gPSAkKCcuc2lkZS1uYXYnKS5jaGlsZHJlbigpLmxlbmd0aCAtIDEsXG4gICAgICAgIG5leHRQb3MgPSAwO1xuXG4gICAgaWYgKHBhcmFtLnR5cGUgPT09IFwic3dpcGV1cFwiIHx8IHBhcmFtLmtleUNvZGUgPT09IDQwIHx8IHBhcmFtID4gMCkge1xuICAgICAgaWYgKGN1clBvcyAhPT0gbGFzdEl0ZW0pIHtcbiAgICAgICAgbmV4dFBvcyA9IGN1clBvcyArIDE7XG4gICAgICAgIHVwZGF0ZU5hdnMobmV4dFBvcyk7XG4gICAgICAgIHVwZGF0ZUNvbnRlbnQoY3VyUG9zLCBuZXh0UG9zLCBsYXN0SXRlbSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdXBkYXRlTmF2cyhuZXh0UG9zKTtcbiAgICAgICAgdXBkYXRlQ29udGVudChjdXJQb3MsIG5leHRQb3MsIGxhc3RJdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAocGFyYW0udHlwZSA9PT0gXCJzd2lwZWRvd25cIiB8fCBwYXJhbS5rZXlDb2RlID09PSAzOCB8fCBwYXJhbSA8IDApe1xuICAgICAgaWYgKGN1clBvcyAhPT0gMCl7XG4gICAgICAgIG5leHRQb3MgPSBjdXJQb3MgLSAxO1xuICAgICAgICB1cGRhdGVOYXZzKG5leHRQb3MpO1xuICAgICAgICB1cGRhdGVDb250ZW50KGN1clBvcywgbmV4dFBvcywgbGFzdEl0ZW0pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG5leHRQb3MgPSBsYXN0SXRlbTtcbiAgICAgICAgdXBkYXRlTmF2cyhuZXh0UG9zKTtcbiAgICAgICAgdXBkYXRlQ29udGVudChjdXJQb3MsIG5leHRQb3MsIGxhc3RJdGVtKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuXG4gIC8vIHN5bmMgc2lkZSBhbmQgb3V0ZXIgbmF2aWdhdGlvbnNcbiAgZnVuY3Rpb24gdXBkYXRlTmF2cyhuZXh0UG9zKSB7XG5cbiAgICAkKCcuc2lkZS1uYXYsIC5vdXRlci1uYXYnKS5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICAkKCcuc2lkZS1uYXYnKS5jaGlsZHJlbigpLmVxKG5leHRQb3MpLmFkZENsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICAkKCcub3V0ZXItbmF2JykuY2hpbGRyZW4oKS5lcShuZXh0UG9zKS5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XG5cbiAgfVxuXG4gIC8vIHVwZGF0ZSBtYWluIGNvbnRlbnQgYXJlYVxuICBmdW5jdGlvbiB1cGRhdGVDb250ZW50KGN1clBvcywgbmV4dFBvcywgbGFzdEl0ZW0pIHtcblxuICAgICQoJy5tYWluLWNvbnRlbnQnKS5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKCdzZWN0aW9uLS1pcy1hY3RpdmUnKTtcbiAgICAkKCcubWFpbi1jb250ZW50JykuY2hpbGRyZW4oKS5lcShuZXh0UG9zKS5hZGRDbGFzcygnc2VjdGlvbi0taXMtYWN0aXZlJyk7XG4gICAgJCgnLm1haW4tY29udGVudCAuc2VjdGlvbicpLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoJ3NlY3Rpb24tLW5leHQgc2VjdGlvbi0tcHJldicpO1xuXG4gICAgaWYgKGN1clBvcyA9PT0gbGFzdEl0ZW0gJiYgbmV4dFBvcyA9PT0gMCB8fCBjdXJQb3MgPT09IDAgJiYgbmV4dFBvcyA9PT0gbGFzdEl0ZW0pIHtcbiAgICAgICQoJy5tYWluLWNvbnRlbnQgLnNlY3Rpb24nKS5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKCdzZWN0aW9uLS1uZXh0IHNlY3Rpb24tLXByZXYnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY3VyUG9zIDwgbmV4dFBvcykge1xuICAgICAgJCgnLm1haW4tY29udGVudCcpLmNoaWxkcmVuKCkuZXEoY3VyUG9zKS5jaGlsZHJlbigpLmFkZENsYXNzKCdzZWN0aW9uLS1uZXh0Jyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgJCgnLm1haW4tY29udGVudCcpLmNoaWxkcmVuKCkuZXEoY3VyUG9zKS5jaGlsZHJlbigpLmFkZENsYXNzKCdzZWN0aW9uLS1wcmV2Jyk7XG4gICAgfVxuXG4gICAgaWYgKG5leHRQb3MgIT09IDAgJiYgbmV4dFBvcyAhPT0gbGFzdEl0ZW0pIHtcbiAgICAgICQoJy5oZWFkZXItLWN0YScpLmFkZENsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAkKCcuaGVhZGVyLS1jdGEnKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBvdXRlck5hdigpIHtcblxuICAgICQoJy5oZWFkZXItLW5hdi10b2dnbGUnKS5jbGljayhmdW5jdGlvbigpe1xuXG4gICAgICAkKCcucGVyc3BlY3RpdmUnKS5hZGRDbGFzcygncGVyc3BlY3RpdmUtLW1vZGFsdmlldycpO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAkKCcucGVyc3BlY3RpdmUnKS5hZGRDbGFzcygnZWZmZWN0LXJvdGF0ZS1sZWZ0LS1hbmltYXRlJyk7XG4gICAgICB9LCAyNSk7XG4gICAgICAkKCcub3V0ZXItbmF2LCAub3V0ZXItbmF2IGxpLCAub3V0ZXItbmF2LS1yZXR1cm4nKS5hZGRDbGFzcygnaXMtdmlzJyk7XG5cbiAgICB9KTtcblxuICAgICQoJy5vdXRlci1uYXYtLXJldHVybiwgLm91dGVyLW5hdiBsaScpLmNsaWNrKGZ1bmN0aW9uKCl7XG5cbiAgICAgICQoJy5wZXJzcGVjdGl2ZScpLnJlbW92ZUNsYXNzKCdlZmZlY3Qtcm90YXRlLWxlZnQtLWFuaW1hdGUnKTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgJCgnLnBlcnNwZWN0aXZlJykucmVtb3ZlQ2xhc3MoJ3BlcnNwZWN0aXZlLS1tb2RhbHZpZXcnKTtcbiAgICAgIH0sIDQwMCk7XG4gICAgICAkKCcub3V0ZXItbmF2LCAub3V0ZXItbmF2IGxpLCAub3V0ZXItbmF2LS1yZXR1cm4nKS5yZW1vdmVDbGFzcygnaXMtdmlzJyk7XG5cbiAgICB9KTtcblxuICB9XG5cbiAgZnVuY3Rpb24gd29ya1NsaWRlcigpIHtcblxuICAgICQoJy5zbGlkZXItLXByZXYsIC5zbGlkZXItLW5leHQnKS5jbGljayhmdW5jdGlvbigpIHtcblxuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcbiAgICAgICAgICBjdXJMZWZ0ID0gJCgnLnNsaWRlcicpLmZpbmQoJy5zbGlkZXItLWl0ZW0tbGVmdCcpLFxuICAgICAgICAgIGN1ckxlZnRQb3MgPSAkKCcuc2xpZGVyJykuY2hpbGRyZW4oKS5pbmRleChjdXJMZWZ0KSxcbiAgICAgICAgICBjdXJDZW50ZXIgPSAkKCcuc2xpZGVyJykuZmluZCgnLnNsaWRlci0taXRlbS1jZW50ZXInKSxcbiAgICAgICAgICBjdXJDZW50ZXJQb3MgPSAkKCcuc2xpZGVyJykuY2hpbGRyZW4oKS5pbmRleChjdXJDZW50ZXIpLFxuICAgICAgICAgIGN1clJpZ2h0ID0gJCgnLnNsaWRlcicpLmZpbmQoJy5zbGlkZXItLWl0ZW0tcmlnaHQnKSxcbiAgICAgICAgICBjdXJSaWdodFBvcyA9ICQoJy5zbGlkZXInKS5jaGlsZHJlbigpLmluZGV4KGN1clJpZ2h0KSxcbiAgICAgICAgICB0b3RhbFdvcmtzID0gJCgnLnNsaWRlcicpLmNoaWxkcmVuKCkubGVuZ3RoLFxuICAgICAgICAgICRsZWZ0ID0gJCgnLnNsaWRlci0taXRlbS1sZWZ0JyksXG4gICAgICAgICAgJGNlbnRlciA9ICQoJy5zbGlkZXItLWl0ZW0tY2VudGVyJyksXG4gICAgICAgICAgJHJpZ2h0ID0gJCgnLnNsaWRlci0taXRlbS1yaWdodCcpLFxuICAgICAgICAgICRpdGVtID0gJCgnLnNsaWRlci0taXRlbScpO1xuXG4gICAgICAkKCcuc2xpZGVyJykuYW5pbWF0ZSh7IG9wYWNpdHkgOiAwIH0sIDQwMCk7XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblxuICAgICAgaWYgKCR0aGlzLmhhc0NsYXNzKCdzbGlkZXItLW5leHQnKSkge1xuICAgICAgICBpZiAoY3VyTGVmdFBvcyA8IHRvdGFsV29ya3MgLSAxICYmIGN1ckNlbnRlclBvcyA8IHRvdGFsV29ya3MgLSAxICYmIGN1clJpZ2h0UG9zIDwgdG90YWxXb3JrcyAtIDEpIHtcbiAgICAgICAgICAkbGVmdC5yZW1vdmVDbGFzcygnc2xpZGVyLS1pdGVtLWxlZnQnKS5uZXh0KCkuYWRkQ2xhc3MoJ3NsaWRlci0taXRlbS1sZWZ0Jyk7XG4gICAgICAgICAgJGNlbnRlci5yZW1vdmVDbGFzcygnc2xpZGVyLS1pdGVtLWNlbnRlcicpLm5leHQoKS5hZGRDbGFzcygnc2xpZGVyLS1pdGVtLWNlbnRlcicpO1xuICAgICAgICAgICRyaWdodC5yZW1vdmVDbGFzcygnc2xpZGVyLS1pdGVtLXJpZ2h0JykubmV4dCgpLmFkZENsYXNzKCdzbGlkZXItLWl0ZW0tcmlnaHQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAoY3VyTGVmdFBvcyA9PT0gdG90YWxXb3JrcyAtIDEpIHtcbiAgICAgICAgICAgICRpdGVtLnJlbW92ZUNsYXNzKCdzbGlkZXItLWl0ZW0tbGVmdCcpLmZpcnN0KCkuYWRkQ2xhc3MoJ3NsaWRlci0taXRlbS1sZWZ0Jyk7XG4gICAgICAgICAgICAkY2VudGVyLnJlbW92ZUNsYXNzKCdzbGlkZXItLWl0ZW0tY2VudGVyJykubmV4dCgpLmFkZENsYXNzKCdzbGlkZXItLWl0ZW0tY2VudGVyJyk7XG4gICAgICAgICAgICAkcmlnaHQucmVtb3ZlQ2xhc3MoJ3NsaWRlci0taXRlbS1yaWdodCcpLm5leHQoKS5hZGRDbGFzcygnc2xpZGVyLS1pdGVtLXJpZ2h0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGN1ckNlbnRlclBvcyA9PT0gdG90YWxXb3JrcyAtIDEpIHtcbiAgICAgICAgICAgICRsZWZ0LnJlbW92ZUNsYXNzKCdzbGlkZXItLWl0ZW0tbGVmdCcpLm5leHQoKS5hZGRDbGFzcygnc2xpZGVyLS1pdGVtLWxlZnQnKTtcbiAgICAgICAgICAgICRpdGVtLnJlbW92ZUNsYXNzKCdzbGlkZXItLWl0ZW0tY2VudGVyJykuZmlyc3QoKS5hZGRDbGFzcygnc2xpZGVyLS1pdGVtLWNlbnRlcicpO1xuICAgICAgICAgICAgJHJpZ2h0LnJlbW92ZUNsYXNzKCdzbGlkZXItLWl0ZW0tcmlnaHQnKS5uZXh0KCkuYWRkQ2xhc3MoJ3NsaWRlci0taXRlbS1yaWdodCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICRsZWZ0LnJlbW92ZUNsYXNzKCdzbGlkZXItLWl0ZW0tbGVmdCcpLm5leHQoKS5hZGRDbGFzcygnc2xpZGVyLS1pdGVtLWxlZnQnKTtcbiAgICAgICAgICAgICRjZW50ZXIucmVtb3ZlQ2xhc3MoJ3NsaWRlci0taXRlbS1jZW50ZXInKS5uZXh0KCkuYWRkQ2xhc3MoJ3NsaWRlci0taXRlbS1jZW50ZXInKTtcbiAgICAgICAgICAgICRpdGVtLnJlbW92ZUNsYXNzKCdzbGlkZXItLWl0ZW0tcmlnaHQnKS5maXJzdCgpLmFkZENsYXNzKCdzbGlkZXItLWl0ZW0tcmlnaHQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAoY3VyTGVmdFBvcyAhPT0gMCAmJiBjdXJDZW50ZXJQb3MgIT09IDAgJiYgY3VyUmlnaHRQb3MgIT09IDApIHtcbiAgICAgICAgICAkbGVmdC5yZW1vdmVDbGFzcygnc2xpZGVyLS1pdGVtLWxlZnQnKS5wcmV2KCkuYWRkQ2xhc3MoJ3NsaWRlci0taXRlbS1sZWZ0Jyk7XG4gICAgICAgICAgJGNlbnRlci5yZW1vdmVDbGFzcygnc2xpZGVyLS1pdGVtLWNlbnRlcicpLnByZXYoKS5hZGRDbGFzcygnc2xpZGVyLS1pdGVtLWNlbnRlcicpO1xuICAgICAgICAgICRyaWdodC5yZW1vdmVDbGFzcygnc2xpZGVyLS1pdGVtLXJpZ2h0JykucHJldigpLmFkZENsYXNzKCdzbGlkZXItLWl0ZW0tcmlnaHQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAoY3VyTGVmdFBvcyA9PT0gMCkge1xuICAgICAgICAgICAgJGl0ZW0ucmVtb3ZlQ2xhc3MoJ3NsaWRlci0taXRlbS1sZWZ0JykubGFzdCgpLmFkZENsYXNzKCdzbGlkZXItLWl0ZW0tbGVmdCcpO1xuICAgICAgICAgICAgJGNlbnRlci5yZW1vdmVDbGFzcygnc2xpZGVyLS1pdGVtLWNlbnRlcicpLnByZXYoKS5hZGRDbGFzcygnc2xpZGVyLS1pdGVtLWNlbnRlcicpO1xuICAgICAgICAgICAgJHJpZ2h0LnJlbW92ZUNsYXNzKCdzbGlkZXItLWl0ZW0tcmlnaHQnKS5wcmV2KCkuYWRkQ2xhc3MoJ3NsaWRlci0taXRlbS1yaWdodCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChjdXJDZW50ZXJQb3MgPT09IDApIHtcbiAgICAgICAgICAgICRsZWZ0LnJlbW92ZUNsYXNzKCdzbGlkZXItLWl0ZW0tbGVmdCcpLnByZXYoKS5hZGRDbGFzcygnc2xpZGVyLS1pdGVtLWxlZnQnKTtcbiAgICAgICAgICAgICRpdGVtLnJlbW92ZUNsYXNzKCdzbGlkZXItLWl0ZW0tY2VudGVyJykubGFzdCgpLmFkZENsYXNzKCdzbGlkZXItLWl0ZW0tY2VudGVyJyk7XG4gICAgICAgICAgICAkcmlnaHQucmVtb3ZlQ2xhc3MoJ3NsaWRlci0taXRlbS1yaWdodCcpLnByZXYoKS5hZGRDbGFzcygnc2xpZGVyLS1pdGVtLXJpZ2h0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgJGxlZnQucmVtb3ZlQ2xhc3MoJ3NsaWRlci0taXRlbS1sZWZ0JykucHJldigpLmFkZENsYXNzKCdzbGlkZXItLWl0ZW0tbGVmdCcpO1xuICAgICAgICAgICAgJGNlbnRlci5yZW1vdmVDbGFzcygnc2xpZGVyLS1pdGVtLWNlbnRlcicpLnByZXYoKS5hZGRDbGFzcygnc2xpZGVyLS1pdGVtLWNlbnRlcicpO1xuICAgICAgICAgICAgJGl0ZW0ucmVtb3ZlQ2xhc3MoJ3NsaWRlci0taXRlbS1yaWdodCcpLmxhc3QoKS5hZGRDbGFzcygnc2xpZGVyLS1pdGVtLXJpZ2h0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9LCA0MDApO1xuXG4gICAgJCgnLnNsaWRlcicpLmFuaW1hdGUoeyBvcGFjaXR5IDogMSB9LCA0MDApO1xuXG4gICAgfSk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYW5zaXRpb25MYWJlbHMoKSB7XG5cbiAgICAkKCcud29yay1yZXF1ZXN0LS1pbmZvcm1hdGlvbiBpbnB1dCcpLmZvY3Vzb3V0KGZ1bmN0aW9uKCl7XG5cbiAgICAgIHZhciB0ZXh0VmFsID0gJCh0aGlzKS52YWwoKTtcblxuICAgICAgaWYgKHRleHRWYWwgPT09IFwiXCIpIHtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaGFzLXZhbHVlJyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaGFzLXZhbHVlJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGNvcnJlY3QgbW9iaWxlIGRldmljZSB3aW5kb3cgcG9zaXRpb25cbiAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcblxuICAgIH0pO1xuXG4gIH1cblxuICBvdXRlck5hdigpO1xuICB3b3JrU2xpZGVyKCk7XG4gIHRyYW5zaXRpb25MYWJlbHMoKTtcblxufSk7XG4iXX0=
