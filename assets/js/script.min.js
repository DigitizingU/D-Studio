$(document).ready(function(){var e=$(".work"),n=!0,i=null;$(this).on("mousewheel DOMMouseScroll",function(e){if(!$(".outer-nav").hasClass("is-vis")){e.preventDefault();var t=e.originalEvent.wheelDelta?-e.originalEvent.wheelDelta:20*e.originalEvent.detail;t>50&&n?(n=!1,clearTimeout(i),i=setTimeout(function(){n=!0},800),d(1)):t<-50&&n&&(n=!1,clearTimeout(i),i=setTimeout(function(){n=!0},800),d(-1))}}),$(".side-nav li, .outer-nav li").click(function(){if(!$(this).hasClass("is-active")){var e=$(this),n=e.parent().find(".is-active"),i=e.parent().children().index(n),t=e.parent().children().index(e),s=$(this).parent().children().length-1;v(t),u(i,t,s)}}),$(".cta").click(function(){var e=$(".side-nav").find(".is-active"),n=$(".side-nav").children().index(e),i=$(".side-nav").children().length-1,t=i;v(i),u(n,t,i)});var t,s,a,o,r,l=document.getElementById("viewport"),c=new Hammer(l);function d(e){var n=$(".side-nav").find(".is-active"),i=$(".side-nav").children().index(n),t=$(".side-nav").children().length-1,s=0;"swipeup"===e.type||40===e.keyCode||e>0?i!==t?(v(s=i+1),u(i,s,t)):(v(s),u(i,s,t)):("swipedown"===e.type||38===e.keyCode||e<0)&&(0!==i?(v(s=i-1),u(i,s,t)):(v(s=t),u(i,s,t)))}function v(e){$(".side-nav, .outer-nav").children().removeClass("is-active"),$(".side-nav").children().eq(e).addClass("is-active"),$(".outer-nav").children().eq(e).addClass("is-active")}function u(e,n,i){$(".main-content").children().removeClass("section--is-active"),$(".main-content").children().eq(n).addClass("section--is-active"),$(".main-content .section").children().removeClass("section--next section--prev"),e===i&&0===n||0===e&&n===i?$(".main-content .section").children().removeClass("section--next section--prev"):e<n?$(".main-content").children().eq(e).children().addClass("section--next"):$(".main-content").children().eq(e).children().addClass("section--prev"),0!==n&&n!==i?$(".header--cta").addClass("is-active"):$(".header--cta").removeClass("is-active")}c.get("swipe").set({direction:Hammer.DIRECTION_VERTICAL}),c.on("swipeup swipedown",function(e){d(e)}),$(document).keyup(function(e){$(".outer-nav").hasClass("is-vis")||(e.preventDefault(),d(e))}),$(".header--nav-toggle").click(function(){$(".perspective").addClass("perspective--modalview"),setTimeout(function(){$(".perspective").addClass("effect-rotate-left--animate")},25),$(".outer-nav, .outer-nav li, .outer-nav--return").addClass("is-vis")}),$(".outer-nav--return, .outer-nav li").click(function(){$(".perspective").removeClass("effect-rotate-left--animate"),setTimeout(function(){$(".perspective").removeClass("perspective--modalview")},400),$(".outer-nav, .outer-nav li, .outer-nav--return").removeClass("is-vis")}),s=e.find(".outer-slider"),a=e.find(".inner-slider"),o=e.find(".inner-slider--prev"),r=e.find(".inner-slider--next"),console.log(a),console.log(o),console.log(r),s.owlCarousel({center:!0,items:1,loop:!0,margin:0,mouseDrag:!1,touchDrag:!1,pullDrag:!1,responsive:{700:{}},URLhashListener:!0,nav:!1,dots:!1,animateOut:"fadeOut",startPosition:"URLHash"}),a.owlCarousel({center:!0,items:2,loop:!0,margin:10,responsive:{700:{items:3,margin:0}},URLhashListener:!0,autoplayHoverPause:!0,nav:!0,startPosition:"URLHash"}),console.log("here outerSlider"),console.log(s),console.log("activeInnerSlider"),console.log(t),s.on("translated.owl.carousel",function(){}),$(".work-request--information input").focusout(function(){""===$(this).val()?$(this).removeClass("has-value"):$(this).addClass("has-value"),window.scrollTo(0,0)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsIndvcmsiLCJjYW5TY3JvbGwiLCJzY3JvbGxDb250cm9sbGVyIiwidGhpcyIsIm9uIiwiZSIsImhhc0NsYXNzIiwicHJldmVudERlZmF1bHQiLCJkZWx0YSIsIm9yaWdpbmFsRXZlbnQiLCJ3aGVlbERlbHRhIiwiZGV0YWlsIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInVwZGF0ZUhlbHBlciIsImNsaWNrIiwiJHRoaXMiLCJjdXJBY3RpdmUiLCJwYXJlbnQiLCJmaW5kIiwiY3VyUG9zIiwiY2hpbGRyZW4iLCJpbmRleCIsIm5leHRQb3MiLCJsYXN0SXRlbSIsImxlbmd0aCIsInVwZGF0ZU5hdnMiLCJ1cGRhdGVDb250ZW50IiwiYWN0aXZlSW5uZXJTbGlkZXIiLCJvdXRlclNsaWRlciIsImlubmVyU2xpZGVyIiwiaW5uZXJTbGlkZXJQcmV2QnRuIiwiaW5uZXJTbGlkZXJOZXh0QnRuIiwidGFyZ2V0RWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwibWMiLCJIYW1tZXIiLCJwYXJhbSIsInR5cGUiLCJrZXlDb2RlIiwicmVtb3ZlQ2xhc3MiLCJlcSIsImFkZENsYXNzIiwiZ2V0Iiwic2V0IiwiZGlyZWN0aW9uIiwiRElSRUNUSU9OX1ZFUlRJQ0FMIiwia2V5dXAiLCJjb25zb2xlIiwibG9nIiwib3dsQ2Fyb3VzZWwiLCJjZW50ZXIiLCJpdGVtcyIsImxvb3AiLCJtYXJnaW4iLCJtb3VzZURyYWciLCJ0b3VjaERyYWciLCJwdWxsRHJhZyIsInJlc3BvbnNpdmUiLCI3MDAiLCJVUkxoYXNoTGlzdGVuZXIiLCJuYXYiLCJkb3RzIiwiYW5pbWF0ZU91dCIsInN0YXJ0UG9zaXRpb24iLCJhdXRvcGxheUhvdmVyUGF1c2UiLCJmb2N1c291dCIsInZhbCIsIndpbmRvdyIsInNjcm9sbFRvIl0sIm1hcHBpbmdzIjoiQUFFQUEsRUFBQUMsVUFBQUMsTUFBQSxXQUVBLElBQUFDLEVB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LEtBQUEsRUFDQUcsY0FBQSxZQU1BaEIsUUFBQUMsSUFBQSxvQkFDQUQsUUFBQUMsSUFBQXBCLEdBQ0FtQixRQUFBQyxJQUFBLHFCQUNBRCxRQUFBQyxJQUFBckIsR0FFQUMsRUFBQXpCLEdBQUEsMEJBQUEsY0FzREFQLEVBQUEsb0NBQUFxRSxTQUFBLFdBSUEsS0FGQXJFLEVBQUFNLE1BQUFnRSxNQUdBdEUsRUFBQU0sTUFBQXFDLFlBQUEsYUFHQTNDLEVBQUFNLE1BQUF1QyxTQUFBLGFBSUEwQixPQUFBQyxTQUFBLEVBQUEiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEBjb2Rla2l0LXByZXBlbmQgXCIvdmVuZG9yL2hhbW1lci0yLjAuOC5qc1wiO1xyXG5cclxuJCggZG9jdW1lbnQgKS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgdmFyIHdvcmsgPSAkKCcud29yaycpO1xyXG5cclxuICAvLyBET01Nb3VzZVNjcm9sbCBpbmNsdWRlZCBmb3IgZmlyZWZveCBzdXBwb3J0XHJcbiAgdmFyIGNhblNjcm9sbCA9IHRydWUsXHJcbiAgICAgIHNjcm9sbENvbnRyb2xsZXIgPSBudWxsO1xyXG4gICQodGhpcykub24oJ21vdXNld2hlZWwgRE9NTW91c2VTY3JvbGwnLCBmdW5jdGlvbihlKXtcclxuXHJcbiAgICBpZiAoISgkKCcub3V0ZXItbmF2JykuaGFzQ2xhc3MoJ2lzLXZpcycpKSkge1xyXG5cclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgdmFyIGRlbHRhID0gKGUub3JpZ2luYWxFdmVudC53aGVlbERlbHRhKSA/IC1lLm9yaWdpbmFsRXZlbnQud2hlZWxEZWx0YSA6IGUub3JpZ2luYWxFdmVudC5kZXRhaWwgKiAyMDtcclxuXHJcbiAgICAgIGlmIChkZWx0YSA+IDUwICYmIGNhblNjcm9sbCkge1xyXG4gICAgICAgIGNhblNjcm9sbCA9IGZhbHNlO1xyXG4gICAgICAgIGNsZWFyVGltZW91dChzY3JvbGxDb250cm9sbGVyKTtcclxuICAgICAgICBzY3JvbGxDb250cm9sbGVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgY2FuU2Nyb2xsID0gdHJ1ZTtcclxuICAgICAgICB9LCA4MDApO1xyXG4gICAgICAgIHVwZGF0ZUhlbHBlcigxKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChkZWx0YSA8IC01MCAmJiBjYW5TY3JvbGwpIHtcclxuICAgICAgICBjYW5TY3JvbGwgPSBmYWxzZTtcclxuICAgICAgICBjbGVhclRpbWVvdXQoc2Nyb2xsQ29udHJvbGxlcik7XHJcbiAgICAgICAgc2Nyb2xsQ29udHJvbGxlciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgIGNhblNjcm9sbCA9IHRydWU7XHJcbiAgICAgICAgfSwgODAwKTtcclxuICAgICAgICB1cGRhdGVIZWxwZXIoLTEpO1xyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICB9KTtcclxuXHJcbiAgJCgnLnNpZGUtbmF2IGxpLCAub3V0ZXItbmF2IGxpJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHJcbiAgICBpZiAoISgkKHRoaXMpLmhhc0NsYXNzKCdpcy1hY3RpdmUnKSkpIHtcclxuXHJcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgICBjdXJBY3RpdmUgPSAkdGhpcy5wYXJlbnQoKS5maW5kKCcuaXMtYWN0aXZlJyksXHJcbiAgICAgICAgICBjdXJQb3MgPSAkdGhpcy5wYXJlbnQoKS5jaGlsZHJlbigpLmluZGV4KGN1ckFjdGl2ZSksXHJcbiAgICAgICAgICBuZXh0UG9zID0gJHRoaXMucGFyZW50KCkuY2hpbGRyZW4oKS5pbmRleCgkdGhpcyksXHJcbiAgICAgICAgICBsYXN0SXRlbSA9ICQodGhpcykucGFyZW50KCkuY2hpbGRyZW4oKS5sZW5ndGggLSAxO1xyXG5cclxuICAgICAgdXBkYXRlTmF2cyhuZXh0UG9zKTtcclxuICAgICAgdXBkYXRlQ29udGVudChjdXJQb3MsIG5leHRQb3MsIGxhc3RJdGVtKTtcclxuXHJcbiAgICB9XHJcblxyXG4gIH0pO1xyXG5cclxuICAkKCcuY3RhJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHJcbiAgICB2YXIgY3VyQWN0aXZlID0gJCgnLnNpZGUtbmF2JykuZmluZCgnLmlzLWFjdGl2ZScpLFxyXG4gICAgICAgIGN1clBvcyA9ICQoJy5zaWRlLW5hdicpLmNoaWxkcmVuKCkuaW5kZXgoY3VyQWN0aXZlKSxcclxuICAgICAgICBsYXN0SXRlbSA9ICQoJy5zaWRlLW5hdicpLmNoaWxkcmVuKCkubGVuZ3RoIC0gMSxcclxuICAgICAgICBuZXh0UG9zID0gbGFzdEl0ZW07XHJcblxyXG4gICAgdXBkYXRlTmF2cyhsYXN0SXRlbSk7XHJcbiAgICB1cGRhdGVDb250ZW50KGN1clBvcywgbmV4dFBvcywgbGFzdEl0ZW0pO1xyXG5cclxuICB9KTtcclxuXHJcbiAgLy8gc3dpcGUgc3VwcG9ydCBmb3IgdG91Y2ggZGV2aWNlc1xyXG4gIHZhciB0YXJnZXRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZXdwb3J0JyksXHJcbiAgICAgIG1jID0gbmV3IEhhbW1lcih0YXJnZXRFbGVtZW50KTtcclxuICBtYy5nZXQoJ3N3aXBlJykuc2V0KHsgZGlyZWN0aW9uOiBIYW1tZXIuRElSRUNUSU9OX1ZFUlRJQ0FMIH0pO1xyXG4gIG1jLm9uKCdzd2lwZXVwIHN3aXBlZG93bicsIGZ1bmN0aW9uKGUpIHtcclxuXHJcbiAgICB1cGRhdGVIZWxwZXIoZSk7XHJcblxyXG4gIH0pO1xyXG5cclxuICAkKGRvY3VtZW50KS5rZXl1cChmdW5jdGlvbihlKXtcclxuXHJcbiAgICBpZiAoISgkKCcub3V0ZXItbmF2JykuaGFzQ2xhc3MoJ2lzLXZpcycpKSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHVwZGF0ZUhlbHBlcihlKTtcclxuICAgIH1cclxuXHJcbiAgfSk7XHJcblxyXG4gIC8vIGRldGVybWluZSBzY3JvbGwsIHN3aXBlLCBhbmQgYXJyb3cga2V5IGRpcmVjdGlvblxyXG4gIGZ1bmN0aW9uIHVwZGF0ZUhlbHBlcihwYXJhbSkge1xyXG5cclxuICAgIHZhciBjdXJBY3RpdmUgPSAkKCcuc2lkZS1uYXYnKS5maW5kKCcuaXMtYWN0aXZlJyksXHJcbiAgICAgICAgY3VyUG9zID0gJCgnLnNpZGUtbmF2JykuY2hpbGRyZW4oKS5pbmRleChjdXJBY3RpdmUpLFxyXG4gICAgICAgIGxhc3RJdGVtID0gJCgnLnNpZGUtbmF2JykuY2hpbGRyZW4oKS5sZW5ndGggLSAxLFxyXG4gICAgICAgIG5leHRQb3MgPSAwO1xyXG5cclxuICAgIGlmIChwYXJhbS50eXBlID09PSBcInN3aXBldXBcIiB8fCBwYXJhbS5rZXlDb2RlID09PSA0MCB8fCBwYXJhbSA+IDApIHtcclxuICAgICAgaWYgKGN1clBvcyAhPT0gbGFzdEl0ZW0pIHtcclxuICAgICAgICBuZXh0UG9zID0gY3VyUG9zICsgMTtcclxuICAgICAgICB1cGRhdGVOYXZzKG5leHRQb3MpO1xyXG4gICAgICAgIHVwZGF0ZUNvbnRlbnQoY3VyUG9zLCBuZXh0UG9zLCBsYXN0SXRlbSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgdXBkYXRlTmF2cyhuZXh0UG9zKTtcclxuICAgICAgICB1cGRhdGVDb250ZW50KGN1clBvcywgbmV4dFBvcywgbGFzdEl0ZW0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwYXJhbS50eXBlID09PSBcInN3aXBlZG93blwiIHx8IHBhcmFtLmtleUNvZGUgPT09IDM4IHx8IHBhcmFtIDwgMCl7XHJcbiAgICAgIGlmIChjdXJQb3MgIT09IDApe1xyXG4gICAgICAgIG5leHRQb3MgPSBjdXJQb3MgLSAxO1xyXG4gICAgICAgIHVwZGF0ZU5hdnMobmV4dFBvcyk7XHJcbiAgICAgICAgdXBkYXRlQ29udGVudChjdXJQb3MsIG5leHRQb3MsIGxhc3RJdGVtKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBuZXh0UG9zID0gbGFzdEl0ZW07XHJcbiAgICAgICAgdXBkYXRlTmF2cyhuZXh0UG9zKTtcclxuICAgICAgICB1cGRhdGVDb250ZW50KGN1clBvcywgbmV4dFBvcywgbGFzdEl0ZW0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgLy8gc3luYyBzaWRlIGFuZCBvdXRlciBuYXZpZ2F0aW9uc1xyXG4gIGZ1bmN0aW9uIHVwZGF0ZU5hdnMobmV4dFBvcykge1xyXG5cclxuICAgICQoJy5zaWRlLW5hdiwgLm91dGVyLW5hdicpLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG4gICAgJCgnLnNpZGUtbmF2JykuY2hpbGRyZW4oKS5lcShuZXh0UG9zKS5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XHJcbiAgICAkKCcub3V0ZXItbmF2JykuY2hpbGRyZW4oKS5lcShuZXh0UG9zKS5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XHJcblxyXG4gIH1cclxuXHJcbiAgLy8gdXBkYXRlIG1haW4gY29udGVudCBhcmVhXHJcbiAgZnVuY3Rpb24gdXBkYXRlQ29udGVudChjdXJQb3MsIG5leHRQb3MsIGxhc3RJdGVtKSB7XHJcblxyXG4gICAgJCgnLm1haW4tY29udGVudCcpLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoJ3NlY3Rpb24tLWlzLWFjdGl2ZScpO1xyXG4gICAgJCgnLm1haW4tY29udGVudCcpLmNoaWxkcmVuKCkuZXEobmV4dFBvcykuYWRkQ2xhc3MoJ3NlY3Rpb24tLWlzLWFjdGl2ZScpO1xyXG4gICAgJCgnLm1haW4tY29udGVudCAuc2VjdGlvbicpLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoJ3NlY3Rpb24tLW5leHQgc2VjdGlvbi0tcHJldicpO1xyXG5cclxuICAgIGlmIChjdXJQb3MgPT09IGxhc3RJdGVtICYmIG5leHRQb3MgPT09IDAgfHwgY3VyUG9zID09PSAwICYmIG5leHRQb3MgPT09IGxhc3RJdGVtKSB7XHJcbiAgICAgICQoJy5tYWluLWNvbnRlbnQgLnNlY3Rpb24nKS5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKCdzZWN0aW9uLS1uZXh0IHNlY3Rpb24tLXByZXYnKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGN1clBvcyA8IG5leHRQb3MpIHtcclxuICAgICAgJCgnLm1haW4tY29udGVudCcpLmNoaWxkcmVuKCkuZXEoY3VyUG9zKS5jaGlsZHJlbigpLmFkZENsYXNzKCdzZWN0aW9uLS1uZXh0Jyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgJCgnLm1haW4tY29udGVudCcpLmNoaWxkcmVuKCkuZXEoY3VyUG9zKS5jaGlsZHJlbigpLmFkZENsYXNzKCdzZWN0aW9uLS1wcmV2Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG5leHRQb3MgIT09IDAgJiYgbmV4dFBvcyAhPT0gbGFzdEl0ZW0pIHtcclxuICAgICAgJCgnLmhlYWRlci0tY3RhJykuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICQoJy5oZWFkZXItLWN0YScpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBvdXRlck5hdigpIHtcclxuXHJcbiAgICAkKCcuaGVhZGVyLS1uYXYtdG9nZ2xlJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICQoJy5wZXJzcGVjdGl2ZScpLmFkZENsYXNzKCdwZXJzcGVjdGl2ZS0tbW9kYWx2aWV3Jyk7XHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCcucGVyc3BlY3RpdmUnKS5hZGRDbGFzcygnZWZmZWN0LXJvdGF0ZS1sZWZ0LS1hbmltYXRlJyk7XHJcbiAgICAgIH0sIDI1KTtcclxuICAgICAgJCgnLm91dGVyLW5hdiwgLm91dGVyLW5hdiBsaSwgLm91dGVyLW5hdi0tcmV0dXJuJykuYWRkQ2xhc3MoJ2lzLXZpcycpO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5vdXRlci1uYXYtLXJldHVybiwgLm91dGVyLW5hdiBsaScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAkKCcucGVyc3BlY3RpdmUnKS5yZW1vdmVDbGFzcygnZWZmZWN0LXJvdGF0ZS1sZWZ0LS1hbmltYXRlJyk7XHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCcucGVyc3BlY3RpdmUnKS5yZW1vdmVDbGFzcygncGVyc3BlY3RpdmUtLW1vZGFsdmlldycpO1xyXG4gICAgICB9LCA0MDApO1xyXG4gICAgICAkKCcub3V0ZXItbmF2LCAub3V0ZXItbmF2IGxpLCAub3V0ZXItbmF2LS1yZXR1cm4nKS5yZW1vdmVDbGFzcygnaXMtdmlzJyk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gd29ya1NsaWRlcigpIHtcclxuICAgIHZhciBhY3RpdmVJbm5lclNsaWRlcjtcclxuXHJcbiAgICB2YXIgb3V0ZXJTbGlkZXIgPSB3b3JrLmZpbmQoJy5vdXRlci1zbGlkZXInKTtcclxuICAgIC8qdmFyIG91dGVyU2xpZGVyUHJldkJ0biA9IG91dGVyU2xpZGVyLnNpYmxpbmdzKCcuc2xpZGVyLS1wcmV2Jyk7XHJcbiAgICB2YXIgb3V0ZXJTbGlkZXJOZXh0QnRuID0gb3V0ZXJTbGlkZXIuc2libGluZ3MoJy5zbGlkZXItLW5leHQnKTtcclxuKi9cclxuICAgIHZhciBpbm5lclNsaWRlciA9IHdvcmsuZmluZCgnLmlubmVyLXNsaWRlcicpO1xyXG4gICAgdmFyIGlubmVyU2xpZGVyUHJldkJ0biA9IHdvcmsuZmluZCgnLmlubmVyLXNsaWRlci0tcHJldicpO1xyXG4gICAgdmFyIGlubmVyU2xpZGVyTmV4dEJ0biA9IHdvcmsuZmluZCgnLmlubmVyLXNsaWRlci0tbmV4dCcpO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKGlubmVyU2xpZGVyKTtcclxuICAgIGNvbnNvbGUubG9nKGlubmVyU2xpZGVyUHJldkJ0bik7XHJcbiAgICBjb25zb2xlLmxvZyhpbm5lclNsaWRlck5leHRCdG4pO1xyXG5cclxuXHJcbiAgICAgIC8qIG91dGVyIHNsaWRlciAqL1xyXG5cclxuICAgIG91dGVyU2xpZGVyLm93bENhcm91c2VsKHtcclxuICAgICAgY2VudGVyOiB0cnVlLFxyXG4gICAgICBpdGVtczoxLFxyXG4gICAgICBsb29wOnRydWUsXHJcbiAgICAgIG1hcmdpbjowLFxyXG4gICAgICBtb3VzZURyYWc6ZmFsc2UsXHJcbiAgICAgIHRvdWNoRHJhZzpmYWxzZSxcclxuICAgICAgcHVsbERyYWc6IGZhbHNlLFxyXG5cclxuICAgICAgcmVzcG9uc2l2ZTp7XHJcbiAgICAgICAgICA3MDA6e1xyXG4gICAgICAgICAgICAgIC8vIGl0ZW1zOjMsXHJcbiAgICAgICAgICAgICAgLy8gbWFyZ2luOiAwXHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIFVSTGhhc2hMaXN0ZW5lcjp0cnVlLFxyXG4gICAgICBuYXY6IGZhbHNlLFxyXG4gICAgICBkb3RzOiBmYWxzZSxcclxuICAgICAgYW5pbWF0ZU91dDogJ2ZhZGVPdXQnLFxyXG4gICAgICBzdGFydFBvc2l0aW9uOiAnVVJMSGFzaCcvKixcclxuICAgICAgYXV0b1dpZHRoOnRydWUqL1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgICAgLyogaW5uZXIgc2xpZGVyICovXHJcblxyXG4gICAgaW5uZXJTbGlkZXIub3dsQ2Fyb3VzZWwoe1xyXG4gICAgICBjZW50ZXI6IHRydWUsXHJcbiAgICAgIGl0ZW1zOjIsXHJcbiAgICAgIGxvb3A6dHJ1ZSxcclxuICAgICAgbWFyZ2luOjEwLFxyXG4gICAgICByZXNwb25zaXZlOntcclxuICAgICAgICAgIDcwMDp7XHJcbiAgICAgICAgICAgICAgaXRlbXM6MyxcclxuICAgICAgICAgICAgICBtYXJnaW46IDBcclxuICAgICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgVVJMaGFzaExpc3RlbmVyOnRydWUsXHJcbiAgICAgIGF1dG9wbGF5SG92ZXJQYXVzZTp0cnVlLFxyXG4gICAgICBuYXY6IHRydWUsXHJcbiAgICAgIHN0YXJ0UG9zaXRpb246ICdVUkxIYXNoJy8qLFxyXG4gICAgICBhdXRvV2lkdGg6dHJ1ZSovXHJcblxyXG4gICAgfSk7XHJcblxyXG4gXHJcbiAgICBjb25zb2xlLmxvZygnaGVyZSBvdXRlclNsaWRlcicpO1xyXG4gICAgY29uc29sZS5sb2cob3V0ZXJTbGlkZXIpO1xyXG4gICAgY29uc29sZS5sb2coJ2FjdGl2ZUlubmVyU2xpZGVyJyk7XHJcbiAgICBjb25zb2xlLmxvZyhhY3RpdmVJbm5lclNsaWRlcik7XHJcblxyXG4gICAgb3V0ZXJTbGlkZXIub24oJ3RyYW5zbGF0ZWQub3dsLmNhcm91c2VsJyxmdW5jdGlvbigpe1xyXG4gICAgICAgIC8qYWN0aXZlSW5uZXJTbGlkZXIgPSBpbm5lclNsaWRlci5jbG9zZXN0KCcub3dsLWl0ZW0nKS5maWx0ZXIoZnVuY3Rpb24oKXtcclxuICAgICAgICAgIHJldHVybiAkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICB9KS5maW5kKCcuaW5uZXItc2xpZGVyJyk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdhY3RpdmVJbm5lclNsaWRlcicpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGFjdGl2ZUlubmVyU2xpZGVyKTtcclxuICAgICAgICAvLyBkZXRhY2ggaGFuZGxlcnNcclxuICAgICAgICBpbm5lclNsaWRlclByZXZCdG4ub2ZmKCdjbGljaycpO1xyXG4gICAgICAgIGlubmVyU2xpZGVyTmV4dEJ0bi5vZmYoJ2NsaWNrJyk7XHJcbiAgICAgICAgYWxlcnQoJ2F0dGFjaCcpO1xyXG4gICAgICAgIC8vIHRoZW4gYXR0YWNoIGhhbmRsZXJzXHJcbiAgICAgICAgYXR0YWNoRXZUb0lubmVyU2xpZGVyQ29udHJvbHMoKTsgICAgKi9cclxuICAgICAgXHJcbiAgICB9KVxyXG5cclxuICAgIC8vIGV4ZWN0dXJlIGZ1bmN0aW9uIHRvIGF0dGFjaCBldmVudCBoYW5kbGVyIHRvIHNsaWRlciBidG5zXHJcbiAgICBmdW5jdGlvbiBhdHRhY2hFdlRvSW5uZXJTbGlkZXJDb250cm9scygpe1xyXG4gICAgICAgIFxyXG4gICAgICAgIGFsZXJ0KCdhdHRhY2hlZCcpO1xyXG5cclxuICAgICAgICAvLyBHbyB0byB0aGUgcHJldmlvdXMgaXRlbSBmb3IgY3VycmVudGx5IGFjdGl2ZSBpbm5lciBTbGlkZXJcclxuICAgICAgICBpbm5lclNsaWRlclByZXZCdG4uY2xpY2soZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICAvLyBhbGVydCgncHJldicpO1xyXG4gICAgICAgICAgICAvLyBXaXRoIG9wdGlvbmFsIHNwZWVkIHBhcmFtZXRlclxyXG4gICAgICAgICAgICAvLyBQYXJhbWV0ZXJzIGhhcyB0byBiZSBpbiBzcXVhcmUgYnJhY2tldCAnW10nXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygncHJldiBjbGlja2VkJyk7XHJcbiAgICAgICAgICAgIGFjdGl2ZUlubmVyU2xpZGVyLnRyaWdnZXIoJ3ByZXYub3dsLmNhcm91c2VsJywgWzUwMF0pO1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC8vIEdvIHRvIHRoZSBuZXh0IGl0ZW0gZm9yIGN1cnJlbnRseSBhY3RpdmUgaW5uZXIgU2xpZGVyXHJcbiAgICAgICAgaW5uZXJTbGlkZXJOZXh0QnRuLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgLy8gYWxlcnQoJ25leHQnKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGFjdGl2ZUlubmVyU2xpZGVyLnRyaWdnZXIoJ25leHQub3dsLmNhcm91c2VsJywgWzUwMF0pO1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG4gICAgICBcclxuXHJcbiAgICBcclxuXHJcblxyXG4gIH1cclxuXHJcbiAgXHJcblxyXG4gIGZ1bmN0aW9uIHRyYW5zaXRpb25MYWJlbHMoKSB7XHJcblxyXG4gICAgJCgnLndvcmstcmVxdWVzdC0taW5mb3JtYXRpb24gaW5wdXQnKS5mb2N1c291dChmdW5jdGlvbigpe1xyXG5cclxuICAgICAgdmFyIHRleHRWYWwgPSAkKHRoaXMpLnZhbCgpO1xyXG5cclxuICAgICAgaWYgKHRleHRWYWwgPT09IFwiXCIpIHtcclxuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdoYXMtdmFsdWUnKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdoYXMtdmFsdWUnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gY29ycmVjdCBtb2JpbGUgZGV2aWNlIHdpbmRvdyBwb3NpdGlvblxyXG4gICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuXHJcbiAgb3V0ZXJOYXYoKTtcclxuICB3b3JrU2xpZGVyKCk7XHJcbiAgdHJhbnNpdGlvbkxhYmVscygpO1xyXG5cclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuLyogXHJcblxyXG4gJCgnLnNsaWRlci0tcHJldiwgLnNsaWRlci0tbmV4dCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcclxuICAgICAgICAgIGN1ckxlZnQgPSAkKCcuc2xpZGVyJykuZmluZCgnLnNsaWRlci0taXRlbS1sZWZ0JyksXHJcbiAgICAgICAgICBjdXJMZWZ0UG9zID0gJCgnLnNsaWRlcicpLmNoaWxkcmVuKCkuaW5kZXgoY3VyTGVmdCksXHJcbiAgICAgICAgICBjdXJDZW50ZXIgPSAkKCcuc2xpZGVyJykuZmluZCgnLnNsaWRlci0taXRlbS1jZW50ZXInKSxcclxuICAgICAgICAgIGN1ckNlbnRlclBvcyA9ICQoJy5zbGlkZXInKS5jaGlsZHJlbigpLmluZGV4KGN1ckNlbnRlciksXHJcbiAgICAgICAgICBjdXJSaWdodCA9ICQoJy5zbGlkZXInKS5maW5kKCcuc2xpZGVyLS1pdGVtLXJpZ2h0JyksXHJcbiAgICAgICAgICBjdXJSaWdodFBvcyA9ICQoJy5zbGlkZXInKS5jaGlsZHJlbigpLmluZGV4KGN1clJpZ2h0KSxcclxuICAgICAgICAgIHRvdGFsV29ya3MgPSAkKCcuc2xpZGVyJykuY2hpbGRyZW4oKS5sZW5ndGgsXHJcbiAgICAgICAgICAkbGVmdCA9ICQoJy5zbGlkZXItLWl0ZW0tbGVmdCcpLFxyXG4gICAgICAgICAgJGNlbnRlciA9ICQoJy5zbGlkZXItLWl0ZW0tY2VudGVyJyksXHJcbiAgICAgICAgICAkcmlnaHQgPSAkKCcuc2xpZGVyLS1pdGVtLXJpZ2h0JyksXHJcbiAgICAgICAgICAkaXRlbSA9ICQoJy5zbGlkZXItLWl0ZW0nKTtcclxuXHJcbiAgICAgICQoJy5zbGlkZXInKS5hbmltYXRlKHsgb3BhY2l0eSA6IDAgfSwgNDAwKTtcclxuXHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgIGlmICgkdGhpcy5oYXNDbGFzcygnc2xpZGVyLS1uZXh0JykpIHtcclxuICAgICAgICBpZiAoY3VyTGVmdFBvcyA8IHRvdGFsV29ya3MgLSAxICYmIGN1ckNlbnRlclBvcyA8IHRvdGFsV29ya3MgLSAxICYmIGN1clJpZ2h0UG9zIDwgdG90YWxXb3JrcyAtIDEpIHtcclxuICAgICAgICAgICRsZWZ0LnJlbW92ZUNsYXNzKCdzbGlkZXItLWl0ZW0tbGVmdCcpLm5leHQoKS5hZGRDbGFzcygnc2xpZGVyLS1pdGVtLWxlZnQnKTtcclxuICAgICAgICAgICRjZW50ZXIucmVtb3ZlQ2xhc3MoJ3NsaWRlci0taXRlbS1jZW50ZXInKS5uZXh0KCkuYWRkQ2xhc3MoJ3NsaWRlci0taXRlbS1jZW50ZXInKTtcclxuICAgICAgICAgICRyaWdodC5yZW1vdmVDbGFzcygnc2xpZGVyLS1pdGVtLXJpZ2h0JykubmV4dCgpLmFkZENsYXNzKCdzbGlkZXItLWl0ZW0tcmlnaHQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBpZiAoY3VyTGVmdFBvcyA9PT0gdG90YWxXb3JrcyAtIDEpIHtcclxuICAgICAgICAgICAgJGl0ZW0ucmVtb3ZlQ2xhc3MoJ3NsaWRlci0taXRlbS1sZWZ0JykuZmlyc3QoKS5hZGRDbGFzcygnc2xpZGVyLS1pdGVtLWxlZnQnKTtcclxuICAgICAgICAgICAgJGNlbnRlci5yZW1vdmVDbGFzcygnc2xpZGVyLS1pdGVtLWNlbnRlcicpLm5leHQoKS5hZGRDbGFzcygnc2xpZGVyLS1pdGVtLWNlbnRlcicpO1xyXG4gICAgICAgICAgICAkcmlnaHQucmVtb3ZlQ2xhc3MoJ3NsaWRlci0taXRlbS1yaWdodCcpLm5leHQoKS5hZGRDbGFzcygnc2xpZGVyLS1pdGVtLXJpZ2h0Jyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIGlmIChjdXJDZW50ZXJQb3MgPT09IHRvdGFsV29ya3MgLSAxKSB7XHJcbiAgICAgICAgICAgICRsZWZ0LnJlbW92ZUNsYXNzKCdzbGlkZXItLWl0ZW0tbGVmdCcpLm5leHQoKS5hZGRDbGFzcygnc2xpZGVyLS1pdGVtLWxlZnQnKTtcclxuICAgICAgICAgICAgJGl0ZW0ucmVtb3ZlQ2xhc3MoJ3NsaWRlci0taXRlbS1jZW50ZXInKS5maXJzdCgpLmFkZENsYXNzKCdzbGlkZXItLWl0ZW0tY2VudGVyJyk7XHJcbiAgICAgICAgICAgICRyaWdodC5yZW1vdmVDbGFzcygnc2xpZGVyLS1pdGVtLXJpZ2h0JykubmV4dCgpLmFkZENsYXNzKCdzbGlkZXItLWl0ZW0tcmlnaHQnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAkbGVmdC5yZW1vdmVDbGFzcygnc2xpZGVyLS1pdGVtLWxlZnQnKS5uZXh0KCkuYWRkQ2xhc3MoJ3NsaWRlci0taXRlbS1sZWZ0Jyk7XHJcbiAgICAgICAgICAgICRjZW50ZXIucmVtb3ZlQ2xhc3MoJ3NsaWRlci0taXRlbS1jZW50ZXInKS5uZXh0KCkuYWRkQ2xhc3MoJ3NsaWRlci0taXRlbS1jZW50ZXInKTtcclxuICAgICAgICAgICAgJGl0ZW0ucmVtb3ZlQ2xhc3MoJ3NsaWRlci0taXRlbS1yaWdodCcpLmZpcnN0KCkuYWRkQ2xhc3MoJ3NsaWRlci0taXRlbS1yaWdodCcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBpZiAoY3VyTGVmdFBvcyAhPT0gMCAmJiBjdXJDZW50ZXJQb3MgIT09IDAgJiYgY3VyUmlnaHRQb3MgIT09IDApIHtcclxuICAgICAgICAgICRsZWZ0LnJlbW92ZUNsYXNzKCdzbGlkZXItLWl0ZW0tbGVmdCcpLnByZXYoKS5hZGRDbGFzcygnc2xpZGVyLS1pdGVtLWxlZnQnKTtcclxuICAgICAgICAgICRjZW50ZXIucmVtb3ZlQ2xhc3MoJ3NsaWRlci0taXRlbS1jZW50ZXInKS5wcmV2KCkuYWRkQ2xhc3MoJ3NsaWRlci0taXRlbS1jZW50ZXInKTtcclxuICAgICAgICAgICRyaWdodC5yZW1vdmVDbGFzcygnc2xpZGVyLS1pdGVtLXJpZ2h0JykucHJldigpLmFkZENsYXNzKCdzbGlkZXItLWl0ZW0tcmlnaHQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBpZiAoY3VyTGVmdFBvcyA9PT0gMCkge1xyXG4gICAgICAgICAgICAkaXRlbS5yZW1vdmVDbGFzcygnc2xpZGVyLS1pdGVtLWxlZnQnKS5sYXN0KCkuYWRkQ2xhc3MoJ3NsaWRlci0taXRlbS1sZWZ0Jyk7XHJcbiAgICAgICAgICAgICRjZW50ZXIucmVtb3ZlQ2xhc3MoJ3NsaWRlci0taXRlbS1jZW50ZXInKS5wcmV2KCkuYWRkQ2xhc3MoJ3NsaWRlci0taXRlbS1jZW50ZXInKTtcclxuICAgICAgICAgICAgJHJpZ2h0LnJlbW92ZUNsYXNzKCdzbGlkZXItLWl0ZW0tcmlnaHQnKS5wcmV2KCkuYWRkQ2xhc3MoJ3NsaWRlci0taXRlbS1yaWdodCcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSBpZiAoY3VyQ2VudGVyUG9zID09PSAwKSB7XHJcbiAgICAgICAgICAgICRsZWZ0LnJlbW92ZUNsYXNzKCdzbGlkZXItLWl0ZW0tbGVmdCcpLnByZXYoKS5hZGRDbGFzcygnc2xpZGVyLS1pdGVtLWxlZnQnKTtcclxuICAgICAgICAgICAgJGl0ZW0ucmVtb3ZlQ2xhc3MoJ3NsaWRlci0taXRlbS1jZW50ZXInKS5sYXN0KCkuYWRkQ2xhc3MoJ3NsaWRlci0taXRlbS1jZW50ZXInKTtcclxuICAgICAgICAgICAgJHJpZ2h0LnJlbW92ZUNsYXNzKCdzbGlkZXItLWl0ZW0tcmlnaHQnKS5wcmV2KCkuYWRkQ2xhc3MoJ3NsaWRlci0taXRlbS1yaWdodCcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICRsZWZ0LnJlbW92ZUNsYXNzKCdzbGlkZXItLWl0ZW0tbGVmdCcpLnByZXYoKS5hZGRDbGFzcygnc2xpZGVyLS1pdGVtLWxlZnQnKTtcclxuICAgICAgICAgICAgJGNlbnRlci5yZW1vdmVDbGFzcygnc2xpZGVyLS1pdGVtLWNlbnRlcicpLnByZXYoKS5hZGRDbGFzcygnc2xpZGVyLS1pdGVtLWNlbnRlcicpO1xyXG4gICAgICAgICAgICAkaXRlbS5yZW1vdmVDbGFzcygnc2xpZGVyLS1pdGVtLXJpZ2h0JykubGFzdCgpLmFkZENsYXNzKCdzbGlkZXItLWl0ZW0tcmlnaHQnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICB9LCA0MDApO1xyXG5cclxuICAgICQoJy5zbGlkZXInKS5hbmltYXRlKHsgb3BhY2l0eSA6IDEgfSwgNDAwKTtcclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuKi8iXX0=
